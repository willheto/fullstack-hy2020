{"version":3,"sources":["services/personService.js","components/Numbers.js","components/Filter.js","components/NewPerson.js","components/Message.js","App.js","index.js"],"names":["baseUrl","axios","get","newObject","post","id","delete","put","Numbers","props","person","number","onClick","window","confirm","personService","then","response","setPersons","persons","filter","setWhatToShow","setMessage","setTimeout","Filter","useState","newFilter","setNewFilter","value","onChange","event","preventDefault","console","log","target","setShown","name","toLowerCase","includes","NewPerson","newName","setNewName","newNumber","setNewNumber","onSubmit","newPerson","index","length","updateIndex","map","data","catch","error","concat","type","Message","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","whatToShow","useEffect","key","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.715ec555.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = 'https://fullstack-321.herokuapp.com/api/persons'\r\n\r\nconst GetAll = () => {\r\n    return axios.get(baseUrl)\r\n}\r\n\r\nconst Create = (newObject) => {\r\n    return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst Delete = (id) => {\r\n    return axios.delete(`https://fullstack-321.herokuapp.com/api/persons/${id}`)\r\n}\r\n\r\nconst Update = (id, newObject) => {\r\n    return axios.put(`https://fullstack-321.herokuapp.com/api/persons/${id}`, newObject)\r\n}\r\n\r\nexport default {GetAll, Create, Delete, Update}","import React from 'react'\r\nimport personService from '../services/personService'\r\n\r\nconst Numbers = (props) => {\r\n\r\n    const handleDelete = () => {\r\n\r\n        if (window.confirm(`Delete ${props.person} ?`)) {\r\n            personService\r\n            .Delete(props.id)\r\n            .then(response => {\r\n                props.setPersons(props.persons.filter(person => person.id !== props.id))\r\n                props.setWhatToShow(props.persons.filter(person => person.id !== props.id))\r\n                props.setMessage(`Deleted ${props.person}`)\r\n                setTimeout(() => {\r\n                    props.setMessage(null)\r\n                }, 2000)\r\n            })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>{props.person} {props.number} <button onClick={handleDelete}>delete</button></div>\r\n    )\r\n}\r\n\r\nexport default Numbers","import React, { useState } from 'react'\r\n\r\nconst Filter = (props) => {\r\n    const [newFilter, setNewFilter] = useState('')\r\n\r\n    const handleFilter = (event) => {\r\n        event.preventDefault()\r\n        console.log(event.target.value)\r\n        props.setShown(props.persons.filter(person => person.name.toLowerCase().includes(event.target.value.toLowerCase())))\r\n        setNewFilter(event.target.value)\r\n    }\r\n    return (\r\n        <div>\r\n            filter shown with\r\n            <input value={newFilter} onChange={handleFilter} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React, { useState } from 'react'\r\nimport personService from '../services/personService'\r\n\r\nconst NewPerson = (props) => {\r\n\r\n    const [newName, setNewName] = useState('')\r\n    const [newNumber, setNewNumber] = useState('')\r\n\r\n    const handleChange = (event) => {\r\n        event.preventDefault()\r\n        console.log(event.target.value)\r\n        setNewName(event.target.value)\r\n    }\r\n\r\n    const handleChangeNumber = (event) => {\r\n        event.preventDefault()\r\n        console.log(event.target.value)\r\n        setNewNumber(event.target.value)\r\n    }\r\n\r\n    const handleAdd = (event) => {\r\n        event.preventDefault()\r\n        const newPerson = {\r\n            name: newName,\r\n            number: newNumber\r\n        }\r\n\r\n        for (let index = 0; index < props.persons.length; index++) {\r\n            if (props.persons[index].name === newName) {\r\n                const updateIndex = props.persons[index].id\r\n                if (window.confirm(`${newName} is already added to phonebook, replace old number with a new one?`)) {\r\n                    personService\r\n                        .Update(updateIndex, newPerson)\r\n                        .then(response => {\r\n                            props.setPersons(props.persons.map(person => person.id !== updateIndex ? person : response.data))\r\n                            props.setWhatToShow(props.persons.map(person => person.id !== updateIndex ? person : response.data))\r\n                            props.setMessage(`Updated ${newPerson.name}'s number`)\r\n                            setTimeout(() => {\r\n                                props.setMessage(null)\r\n                            }, 2000)\r\n                            return\r\n                        })\r\n                        .catch(error => {\r\n                            props.setMessage(`${newPerson.name} has already been removed from the server`)\r\n                            props.setPersons(props.persons.filter(person => person.name !== newPerson.name))\r\n                            props.setWhatToShow(props.persons.filter(person => person.name !== newPerson.name))\r\n                            setTimeout(() => {\r\n                                props.setMessage(null)\r\n                            }, 2000)\r\n                            return\r\n                        })\r\n                }\r\n                return\r\n            }\r\n        }\r\n\r\n        personService\r\n            .Create(newPerson)\r\n            .then(response => {\r\n                props.setPersons(props.persons.concat(response.data))\r\n                props.setWhatToShow(props.persons.concat(response.data))\r\n                props.setMessage(`Added ${newPerson.name}`)\r\n                setTimeout(() => {\r\n                    props.setMessage(null)\r\n                }, 2000)\r\n            })\r\n            .catch(error => {\r\n                console.log(error.response.data.error)\r\n                props.setMessage(error.response.data.error)\r\n                setTimeout(() => {\r\n                    props.setMessage(null)\r\n                }, 8000)\r\n            })\r\n\r\n        setNewName('')\r\n        setNewNumber('')\r\n    }\r\n    return (\r\n        <div>\r\n            <form onSubmit={handleAdd}>\r\n                <div>\r\n                    name: <input value={newName} onChange={handleChange} />\r\n                </div>\r\n                <div>number: <input value={newNumber} onChange={handleChangeNumber} /></div>\r\n                <div>\r\n                    <button type=\"submit\">add</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NewPerson","import React from 'react'\r\n\r\nconst Message = ({ message }) => {\r\n    const messageStyle = {\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10,\r\n    }\r\n\r\n    if (message !== null) {\r\n        return (\r\n            <div style={messageStyle}>\r\n                {message}\r\n            </div>\r\n        )\r\n    } return (<div></div>)\r\n}\r\n\r\nexport default Message","import React, { useState, useEffect } from 'react'\r\nimport Numbers from './components/Numbers'\r\nimport Filter from './components/Filter'\r\nimport NewPerson from './components/NewPerson'\r\nimport personService from './services/personService'\r\nimport Message from './components/Message'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [whatToShow, setWhatToShow] = useState(persons)\r\n  const [message, setMessage] = useState(null)\r\n\r\n  useEffect(() => {\r\n    console.log('effect')\r\n    personService\r\n      .GetAll()\r\n      .then(response => {\r\n        setPersons(response.data)\r\n        setWhatToShow(response.data)\r\n      })\r\n  },[])\r\n\r\n  console.log(persons)\r\n  console.log(whatToShow)\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Message message={message}/>\r\n      <Filter persons={persons} setShown={setWhatToShow} />\r\n      <h2>add a new</h2>\r\n      <NewPerson persons={persons} setPersons={setPersons} setWhatToShow={setWhatToShow} setMessage={setMessage}/>\r\n      <h2>Numbers</h2>\r\n      {whatToShow.map(person => <Numbers key={person.name} person={person.name} number={person.number} id={person.id} setWhatToShow={setWhatToShow} setPersons={setPersons} persons={persons} setMessage={setMessage}/>)}\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n    <App />, document.getElementById('root')\n);\n\n"],"sourceRoot":""}